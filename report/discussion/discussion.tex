\section{Discussion}
When making choices during this project, we had to take our time frame into account. 
We also wanted our result to be applicable in forensic case. In this chapter we present the 
challenges we faced during the project and our decisions.

\subsection{Real phone vs. emulator}
In a real case scenario, a forensic investigator would receive a physical device 
that the investigator should acquire evidence from. However in this project there 
are a number of reasons for why we did not use a physical device.\\

While many companies give instructions on how to unlock their bootloader, they also 
state that the warranty is voided. However law-regulations in many European countries 
have better consumer laws that give the consumer rights if the fault %mangel, norsk ord
is not related to ROM or kernel of the device. Although we therefore would not have 
any real risk of losing our rights to the producer we choose not to use our own 
devices since there always is some risk involved where the device could be bricked 
and consumer laws would not be applicable.\\

When conducting scientific experiments, it is important to do something that is 
reproducible. By using a emulator we can document how it is set up so others can 
copy the environment and get the same results. Physical devices could be an issue 
where the device is out of production.

\subsection{Method}
As stated earlier in the report we had a number of methods we could approach 
obtaining memory from mobile devices. When choosing method we were looking for one 
that gave us the most forensic sound evidence. Originally our chosen method was 
using \textit{pmemsave} %kommando, formatering
that was mentioned in a earlier paper\cite{acq_vol_android_mem}. However this did 
not work in the emulator, so the next best approach was chosen (LiME), where research suggests 
it gives 99.46\% identical memory dumps\cite{acq_vol_android_mem}.

\subsubsection{Kernel Module}
As explained in earlier chapters the LiME kernel module has to be compiled to the 
running kernel. The kernel also has to support loading of kernel modules. This is 
by default not allowed since it is a security vulnerability. This might be a 
problem if the device is running a stock ROM, where it would be necessary to obtain 
the kernel source from the producer of the device. These are often not released for 
every device and could be an issue when getting evidence in the field. Since time is 
an issue when dealing with such volatile evidence it could be feasible to have 
pre-compiled kernels and modules that would work on most common devices. However 
this might be known by the criminals. %Finnes det noe research på mobiler brukt av kriminelle? statistikk :P

\subsection{Secure application - TextSecure}
One of our experiments was to look into how an application that gives the user higher 
privacy by encrypting its messages. TextSecure also enables encrypted point-to-
point encryption by use of PKI. As our results have shown we did not see the 
message in the memory dump such as we did when tested against the stock SMS application. 
However, it might be possible to extract the encryption keys where the database was 
acquired and decrypt the messages. Since TextSecure is open source it is
possible to look through its code and see how it works. We know that at some
point they have used a memory cleaner to clean sensitive memory after it has
been used\footnote{\url{http://goo.gl/mgDKpO}}.
The memory cleaner class was in use in the version of TextSecure we tested, so
this may be why we did not find the messages in memory. We are unsure if the
key is available in memory, as a key derivation algorithm is in use to
generate a more suitable key from the user made password. For this last
problem Volatility could have been used if we had a working version of the
Dalvik plugins in time. Then we could have made a plugin that leverages the
plugin that finds the loaded classes, and found where in the relevant
TextSecure class the keys are stored. This might require that TextSecure is
open on the device, or else the memory cleaner might overwrite the keys.

\subsection{Issues during the project}
Under the project we had some obstacles, we got a good start with researching and 
reading existing papers on the subject. However after we had decided on what 
direction we would take the project there were multiple issues when building the 
prerequisites for the kernel and emulator. There was some confusion from the guide 
on Volatility page on what to follow. Since the guide mentioned OS X specifically 
we did not pay close enough attention to what we would have to deviate from it.
The main differences was in the Makefile where the paths had to be edited to our
system.

When using Volatility with a custom profile, our first impression was that it was
necessary to create it on each system. However later we found out it was possible 
to copy the file from other systems.

There were some issues in what we needed when initializing the build environment, when 
following the instructions from Volatility. Google is referenced and it is not clear 
on how much you need to follow googles’ instructions. This caused us wasting time 
on compiling android source witch was not necessary.

%More - volatility, plugins, building kernel.

\subsection{Applicable in a forensic investigation}
This makes it easier to write customized plugins since you can use parts and functions from other plugins.
To make our research applicable in a forensic investigation, tools to assist in searching for information in 
the memory would be necessary. This paper is focused on proving what can be found in memory, and we did this 
by knowing what we was looking for. In a real case you wouldn't know the password or addresses you were looking for.
This paper gives a better understanding on what information and how it should be acquired during a forensic investigation.